    [2021-06-16 09:12:47,555] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 09:13:01,222] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 09:13:01,242] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 1, 'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 09:13:01,602] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 09:13:01,603] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 09:27:35,644] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 09:27:35,645] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 1, 'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 09:27:35,905] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 09:27:35,907] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 09:41:05,897] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\settings.py changed, reloading.
[2021-06-16 09:41:08,485] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 09:41:22,607] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 09:42:10,516] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 09:42:10,517] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 1, 'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 09:42:10,595] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 09:42:10,596] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 09:49:55,606] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\settings.py changed, reloading.
[2021-06-16 09:49:58,212] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 09:50:46,152] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\settings.py changed, reloading.
[2021-06-16 09:50:48,954] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 09:51:20,371] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\settings.py changed, reloading.
[2021-06-16 09:51:22,774] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 09:52:51,874] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 09:52:51,875] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 1, 'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 09:52:52,062] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 09:52:52,064] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 09:56:12,433] [databases_operation.py:76] [databases_operation:Del_Databases_Migration_Task] [INFO]- <---调用删除数据库迁移信息接口--->
[2021-06-16 09:56:12,434] [databases_operation.py:78] [databases_operation:Del_Databases_Migration_Task] [INFO]- <---接收的参数:{'id': 1}---->
[2021-06-16 09:56:12,464] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /del_databases_migration_task HTTP/1.1" 200 87
[2021-06-16 09:57:48,111] [databases_operation.py:76] [databases_operation:Del_Databases_Migration_Task] [INFO]- <---调用删除数据库迁移信息接口--->
[2021-06-16 09:57:48,112] [databases_operation.py:78] [databases_operation:Del_Databases_Migration_Task] [INFO]- <---接收的参数:{'id': 14}---->
[2021-06-16 09:57:48,327] [databases_operation.py:84] [databases_operation:Del_Databases_Migration_Task] [INFO]- <---id:14的数据删除完成--->
[2021-06-16 09:57:48,328] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /del_databases_migration_task HTTP/1.1" 200 88
[2021-06-16 09:59:55,870] [databases_operation.py:103] [databases_operation:Upd_Databases_Migration_Task] [INFO]- <---修改迁移信息接口调用---->
[2021-06-16 09:59:55,871] [databases_operation.py:106] [databases_operation:Upd_Databases_Migration_Task] [INFO]- <---接收的参数:{'id': 10, 'task_type': 3, 'db_ip': '127.0.0.11', 'db_username': 'root1', 'db_password': '1234561', 'db_port': 33061, 'db_name': 'study1', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210606/1', 'db_ip_lg': '81.70.9.2031', 'db_username_lg': 'root1', 'db_password_lg': 'admin@123451', 'db_port_lg': 33061, 'db_name_lg': 'zaibei1'}---->
[2021-06-16 09:59:55,951] [databases_operation.py:129] [databases_operation:Upd_Databases_Migration_Task] [INFO]- <---id:10的数据更新成功---->
[2021-06-16 09:59:55,952] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_databases_migration_task HTTP/1.1" 200 88
[2021-06-16 10:00:42,784] [databases_operation.py:170] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---调用查询迁移信息接口--->
[2021-06-16 10:00:42,785] [databases_operation.py:171] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---获取的参数:<QueryDict: {'page': ['1'], 'pagesize': ['10']}>--->
[2021-06-16 10:00:43,721] [databases_operation.py:226] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---数据查询：{'code': 1, 'msg': '数据查询完成', 'total': 7, 'data': [{'id': 9, 'task_id': 'DBMG20210611164749402968', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-11 08:47:49.463803', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210606/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 10, 'task_id': 'DBMG20210611181651621531', 'task_type': 3, 'db_ip': '127.0.0.11', 'create_time': '2021-06-11 10:16:51.630508', 'db_username': 'root1', 'db_password': '1234561', 'db_port': 33061, 'db_name': 'study1', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210606/1', 'db_ip_lg': '81.70.9.2031', 'db_username_lg': 'root1', 'db_password_lg': 'admin@123451', 'db_port_lg': 33061, 'db_name_lg': 'zaibei1'}, {'id': 11, 'task_id': 'DBMG20210611182920081768', 'task_type': 2, 'db_ip': '81.70.9.203', 'create_time': '2021-06-11 10:29:20.110703', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''}, {'id': 12, 'task_id': 'DBMG20210616091301243452', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:13:01.263352', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 13, 'task_id': 'DBMG20210616092735645141', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:27:35.661062', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 15, 'task_id': 'DBMG20210616094210517200', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:42:10.527174', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 16, 'task_id': 'DBMG20210616095251875110', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 09:52:51.881095', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}]}---->
[2021-06-16 10:00:43,726] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_databases_migration_task?page=1&pagesize=10 HTTP/1.1" 200 4466
[2021-06-16 10:08:43,581] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\data_migration\databases_operation.py changed, reloading.
[2021-06-16 10:08:45,993] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 10:10:43,663] [databases_operation.py:272] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口--->
[2021-06-16 10:10:43,663] [databases_operation.py:274] [databases_operation:Ins_File_Migration_Task] [INFO]- <---获取的参数:{'task_type': 4, 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'backups_path': '/home/liusy/ceshi', 'interval_date': 3, 'date_type': 2, 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345'}--->
[2021-06-16 10:10:43,920] [databases_operation.py:315] [databases_operation:Ins_File_Migration_Task] [INFO]- <---任务添加完成---->
[2021-06-16 10:10:43,921] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_file_migration_task HTTP/1.1" 200 77
[2021-06-16 10:12:59,126] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\data_migration\databases_operation.py changed, reloading.
[2021-06-16 10:13:01,672] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 10:13:10,185] [databases_operation.py:272] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口--->
[2021-06-16 10:13:10,185] [databases_operation.py:274] [databases_operation:Ins_File_Migration_Task] [INFO]- <---获取的参数:{'task_type': 4, 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'backups_path': '/home/liusy/ceshi', 'interval_date': 3, 'date_type': 2, 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345'}--->
[2021-06-16 10:13:10,186] [databases_operation.py:320] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口异常 异常信息:list index out of range 异常发生代码行数:288--->
[2021-06-16 10:13:10,186] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_file_migration_task HTTP/1.1" 200 235
[2021-06-16 10:13:58,141] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\data_migration\databases_operation.py changed, reloading.
[2021-06-16 10:14:00,563] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 10:17:15,535] [databases_operation.py:272] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口--->
[2021-06-16 10:17:15,536] [databases_operation.py:274] [databases_operation:Ins_File_Migration_Task] [INFO]- <---获取的参数:{'task_type': 4, 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'backups_path': '/home/liusy/ceshi', 'interval_date': 3, 'date_type': 2, 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345'}--->
[2021-06-16 10:17:15,775] [databases_operation.py:315] [databases_operation:Ins_File_Migration_Task] [INFO]- <---任务添加完成---->
[2021-06-16 10:17:15,777] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_file_migration_task HTTP/1.1" 200 77
[2021-06-16 10:17:32,790] [databases_operation.py:327] [databases_operation:Del_File_Migration_Task] [INFO]- <---调用删除文件迁移信息信息接口--->
[2021-06-16 10:17:32,791] [databases_operation.py:329] [databases_operation:Del_File_Migration_Task] [INFO]- <---接收的参数:{'id': 7}---->
[2021-06-16 10:17:32,946] [databases_operation.py:335] [databases_operation:Del_File_Migration_Task] [INFO]- <---id:7的数据删除完成---->
[2021-06-16 10:17:32,946] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /del_file_migration_task HTTP/1.1" 200 87
[2021-06-16 10:18:13,203] [databases_operation.py:353] [databases_operation:Upd_File_Migration_Task] [INFO]- <---修改文件迁移信息接口调用---->
[2021-06-16 10:18:13,203] [databases_operation.py:355] [databases_operation:Upd_File_Migration_Task] [INFO]- <---接收的参数:{'id': 8, 'source_ip': '127.0.0.111', 'source_user': 'liusy1', 'source_pwd': 'Liu@123451', 'source_path': '/home/liusy/ceshi_11', 'backups_path': '/home/liusy/ceshi1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/1', 'interval_date': 31, 'date_type': 21, 'long_range_ip': '81.70.9.2031', 'long_range_user': 'liusy1', 'long_range_pwd': 'Liu@123451'}---->
[2021-06-16 10:18:13,222] [databases_operation.py:391] [databases_operation:Upd_File_Migration_Task] [INFO]- <---调用修改文件迁移信息接口异常 异常信息:Field 'task_type' expected a number but got ''. 异常发生代码行数:374--->
[2021-06-16 10:18:13,223] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_file_migration_task HTTP/1.1" 200 259
[2021-06-16 10:20:02,428] [databases_operation.py:353] [databases_operation:Upd_File_Migration_Task] [INFO]- <---修改文件迁移信息接口调用---->
[2021-06-16 10:20:02,428] [databases_operation.py:355] [databases_operation:Upd_File_Migration_Task] [INFO]- <---接收的参数:{'id': 8, 'task_type': 2, 'source_ip': '127.0.0.111', 'source_user': 'liusy1', 'source_pwd': 'Liu@123451', 'source_path': '/home/liusy/ceshi_11', 'backups_path': '/home/liusy/ceshi1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/1', 'interval_date': 31, 'date_type': 21, 'long_range_ip': '81.70.9.2031', 'long_range_user': 'liusy1', 'long_range_pwd': 'Liu@123451'}---->
[2021-06-16 10:20:02,836] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_file_migration_task HTTP/1.1" 200 87
[2021-06-16 10:20:42,689] [databases_operation.py:398] [databases_operation:Sel_File_Migration_Task] [INFO]- <---调用查询文件迁移信息接口调用---->
[2021-06-16 10:20:42,689] [databases_operation.py:399] [databases_operation:Sel_File_Migration_Task] [INFO]- <---接收参数:<QueryDict: {'page': ['1'], 'pagesize': ['10']}>---->
[2021-06-16 10:20:42,701] [databases_operation.py:449] [databases_operation:Sel_File_Migration_Task] [INFO]- <---数据查询:{'code': 1, 'msg': '数据查询完成', 'total': 3, 'data': [{'id': 5, 'task_id': 'FLMG20210611171808472323', 'task_type': 4, 'create_time': '2021-06-11 09:18:08.585648', 'source_ip': '127.0.0.11', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'interval_date': '3', 'date_type': '2', 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345', 'backups_path': '/home/liusy/ceshi'}, {'id': 6, 'task_id': 'FLMG20210611172313552836', 'task_type': 4, 'create_time': '2021-06-11 09:23:13.644865', 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'interval_date': '3', 'date_type': '2', 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345', 'backups_path': '/home/liusy/ceshi'}, {'id': 8, 'task_id': 'FLMG20210616101715536210', 'task_type': 2, 'create_time': '2021-06-16 10:17:15.555158', 'source_ip': '127.0.0.111', 'source_user': 'liusy1', 'source_pwd': 'Liu@123451', 'source_path': '/home/liusy/ceshi_11', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/1', 'interval_date': '31', 'date_type': '21', 'long_range_ip': '81.70.9.2031', 'long_range_user': 'liusy1', 'long_range_pwd': 'Liu@123451', 'backups_path': '/home/liusy/ceshi1'}]}---->
[2021-06-16 10:20:42,702] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_file_migration_task?page=1&pagesize=10 HTTP/1.1" 200 1508
[2021-06-16 10:24:47,966] [databases_operation.py:168] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---调用查询迁移信息接口--->
[2021-06-16 10:24:47,966] [databases_operation.py:169] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---获取的参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'db_ip': ['127.0.0.1']}>--->
[2021-06-16 10:24:48,014] [databases_operation.py:224] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---数据查询：{'code': 1, 'msg': '数据查询完成', 'total': 5, 'data': [{'id': 9, 'task_id': 'DBMG20210611164749402968', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-11 08:47:49.463803', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210606/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 12, 'task_id': 'DBMG20210616091301243452', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:13:01.263352', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 13, 'task_id': 'DBMG20210616092735645141', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:27:35.661062', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 15, 'task_id': 'DBMG20210616094210517200', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:42:10.527174', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 16, 'task_id': 'DBMG20210616095251875110', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 09:52:51.881095', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}]}---->
[2021-06-16 10:24:48,015] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_databases_migration_task?page=1&pagesize=10&db_ip=127.0.0.1 HTTP/1.1" 200 3224
[2021-06-16 10:25:02,714] [databases_operation.py:168] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---调用查询迁移信息接口--->
[2021-06-16 10:25:02,714] [databases_operation.py:169] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---获取的参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'db_name': ['study']}>--->
[2021-06-16 10:25:02,735] [databases_operation.py:224] [databases_operation:Sel_Databases_Migration_Task] [INFO]- <---数据查询：{'code': 1, 'msg': '数据查询完成', 'total': 5, 'data': [{'id': 9, 'task_id': 'DBMG20210611164749402968', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-11 08:47:49.463803', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210606/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 12, 'task_id': 'DBMG20210616091301243452', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:13:01.263352', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 13, 'task_id': 'DBMG20210616092735645141', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:27:35.661062', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 15, 'task_id': 'DBMG20210616094210517200', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 01:42:10.527174', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}, {'id': 16, 'task_id': 'DBMG20210616095251875110', 'task_type': 1, 'db_ip': '127.0.0.1', 'create_time': '2021-06-16 09:52:51.881095', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': "[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}]", 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}]}---->
[2021-06-16 10:25:02,736] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_databases_migration_task?page=1&pagesize=10&db_name=study HTTP/1.1" 200 3224
[2021-06-16 10:26:04,676] [databases_operation.py:398] [databases_operation:Sel_File_Migration_Task] [INFO]- <---调用查询文件迁移信息接口调用---->
[2021-06-16 10:26:04,676] [databases_operation.py:399] [databases_operation:Sel_File_Migration_Task] [INFO]- <---接收参数:<QueryDict: {'page': ['1'], 'pagesize': ['10']}>---->
[2021-06-16 10:26:04,691] [databases_operation.py:449] [databases_operation:Sel_File_Migration_Task] [INFO]- <---数据查询:{'code': 1, 'msg': '数据查询完成', 'total': 3, 'data': [{'id': 5, 'task_id': 'FLMG20210611171808472323', 'task_type': 4, 'create_time': '2021-06-11 09:18:08.585648', 'source_ip': '127.0.0.11', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'interval_date': '3', 'date_type': '2', 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345', 'backups_path': '/home/liusy/ceshi'}, {'id': 6, 'task_id': 'FLMG20210611172313552836', 'task_type': 4, 'create_time': '2021-06-11 09:23:13.644865', 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'interval_date': '3', 'date_type': '2', 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345', 'backups_path': '/home/liusy/ceshi'}, {'id': 8, 'task_id': 'FLMG20210616101715536210', 'task_type': 2, 'create_time': '2021-06-16 10:17:15.555158', 'source_ip': '127.0.0.111', 'source_user': 'liusy1', 'source_pwd': 'Liu@123451', 'source_path': '/home/liusy/ceshi_11', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/1', 'interval_date': '31', 'date_type': '21', 'long_range_ip': '81.70.9.2031', 'long_range_user': 'liusy1', 'long_range_pwd': 'Liu@123451', 'backups_path': '/home/liusy/ceshi1'}]}---->
[2021-06-16 10:26:04,692] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_file_migration_task?page=1&pagesize=10 HTTP/1.1" 200 1508
[2021-06-16 10:26:21,026] [databases_operation.py:398] [databases_operation:Sel_File_Migration_Task] [INFO]- <---调用查询文件迁移信息接口调用---->
[2021-06-16 10:26:21,026] [databases_operation.py:399] [databases_operation:Sel_File_Migration_Task] [INFO]- <---接收参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'create_time': ['2021-06-09']}>---->
[2021-06-16 10:26:21,080] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_file_migration_task?page=1&pagesize=10&create_time=2021-06-09 HTTP/1.1" 200 137
[2021-06-16 10:26:26,168] [databases_operation.py:398] [databases_operation:Sel_File_Migration_Task] [INFO]- <---调用查询文件迁移信息接口调用---->
[2021-06-16 10:26:26,168] [databases_operation.py:399] [databases_operation:Sel_File_Migration_Task] [INFO]- <---接收参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'source_ip': ['127.0.0.111']}>---->
[2021-06-16 10:26:26,177] [databases_operation.py:449] [databases_operation:Sel_File_Migration_Task] [INFO]- <---数据查询:{'code': 1, 'msg': '数据查询完成', 'total': 1, 'data': [{'id': 8, 'task_id': 'FLMG20210616101715536210', 'task_type': 2, 'create_time': '2021-06-16 10:17:15.555158', 'source_ip': '127.0.0.111', 'source_user': 'liusy1', 'source_pwd': 'Liu@123451', 'source_path': '/home/liusy/ceshi_11', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/1', 'interval_date': '31', 'date_type': '21', 'long_range_ip': '81.70.9.2031', 'long_range_user': 'liusy1', 'long_range_pwd': 'Liu@123451', 'backups_path': '/home/liusy/ceshi1'}]}---->
[2021-06-16 10:26:26,178] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_file_migration_task?page=1&pagesize=10&source_ip=127.0.0.111 HTTP/1.1" 200 563
[2021-06-16 10:26:34,147] [databases_operation.py:398] [databases_operation:Sel_File_Migration_Task] [INFO]- <---调用查询文件迁移信息接口调用---->
[2021-06-16 10:26:34,148] [databases_operation.py:399] [databases_operation:Sel_File_Migration_Task] [INFO]- <---接收参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'long_range_ip': ['81.70.9.203']}>---->
[2021-06-16 10:26:34,180] [databases_operation.py:449] [databases_operation:Sel_File_Migration_Task] [INFO]- <---数据查询:{'code': 1, 'msg': '数据查询完成', 'total': 2, 'data': [{'id': 5, 'task_id': 'FLMG20210611171808472323', 'task_type': 4, 'create_time': '2021-06-11 09:18:08.585648', 'source_ip': '127.0.0.11', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'interval_date': '3', 'date_type': '2', 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345', 'backups_path': '/home/liusy/ceshi'}, {'id': 6, 'task_id': 'FLMG20210611172313552836', 'task_type': 4, 'create_time': '2021-06-11 09:23:13.644865', 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210614/', 'interval_date': '3', 'date_type': '2', 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345', 'backups_path': '/home/liusy/ceshi'}]}---->
[2021-06-16 10:26:34,181] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_file_migration_task?page=1&pagesize=10&long_range_ip=81.70.9.203 HTTP/1.1" 200 1025
[2021-06-16 10:26:46,351] [databases_operation.py:234] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---调用查询历史执行信息接口--->
[2021-06-16 10:26:46,351] [databases_operation.py:235] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---获取的参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'task_id': ['FLMG20210611172313552836']}>--->
[2021-06-16 10:26:46,359] [databases_operation.py:262] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---数据查询：{'code': 1, 'msg': '数据查询完成', 'total': 1, 'data': [{'id': 16, 'task_id': 'FLMG20210611172313552836', 'create_time': '2021-06-11 09:23:13.769656', 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '3', 'task_type': 4, 'task_status': 2, 'task_desc': '任务执行完成'}]}---->
[2021-06-16 10:26:46,360] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_implement_status_task?page=1&pagesize=10&task_id=FLMG20210611172313552836 HTTP/1.1" 200 334
[2021-06-16 10:26:51,985] [databases_operation.py:234] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---调用查询历史执行信息接口--->
[2021-06-16 10:26:51,985] [databases_operation.py:235] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---获取的参数:<QueryDict: {'page': ['1'], 'pagesize': ['10']}>--->
[2021-06-16 10:26:51,986] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_implement_status_task?page=1&pagesize=10 HTTP/1.1" 200 79
[2021-06-16 10:27:20,826] [databases_operation.py:234] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---调用查询历史执行信息接口--->
[2021-06-16 10:27:20,826] [databases_operation.py:235] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---获取的参数:<QueryDict: {'page': ['1'], 'pagesize': ['10'], 'task_id': ['FLMG20210611172313552836']}>--->
[2021-06-16 10:27:20,833] [databases_operation.py:262] [databases_operation:Sel_Implement_Status_Task] [INFO]- <---数据查询：{'code': 1, 'msg': '数据查询完成', 'total': 1, 'data': [{'id': 16, 'task_id': 'FLMG20210611172313552836', 'create_time': '2021-06-11 09:23:13.769656', 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '3', 'task_type': 4, 'task_status': 2, 'task_desc': '任务执行完成'}]}---->
[2021-06-16 10:27:20,834] [basehttp.py:157] [basehttp:log_message] [INFO]- "GET /sel_implement_status_task?page=1&pagesize=10&task_id=FLMG20210611172313552836 HTTP/1.1" 200 334
[2021-06-16 10:34:29,125] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 10:34:29,126] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 4, 'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210616/'}--->
[2021-06-16 10:34:29,328] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 10:34:29,329] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 10:37:41,296] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 10:37:41,297] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616103429126946', 'task_type': 2, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 10:37:41,324] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 10:37:41,324] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616103429126946的数据任务执行开始---->
[2021-06-16 10:37:41,326] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 10:37:41,735] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616103429126946的数据 定时参数更新完成
[2021-06-16 10:37:41,735] [apscheduler_task.py:190] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616103429126946,task_type:2,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 10:37:41,923] [apscheduler_task.py:211] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 10:37:41,923] [apscheduler_task.py:249] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 10:37:51,930] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616103429126946', 'task_type': 2, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 10:37:51--->
[2021-06-16 10:37:51,951] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 10:37:52,082] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:25--->
[2021-06-16 10:37:52,084] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:2 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210616/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''}--->
[2021-06-16 10:37:52,084] [views.py:208] [views:Databases_Generate_File] [INFO]- <---生成数据库备份文件接口 接收参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210616/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''},状态表id25--->
[2021-06-16 10:37:52,085] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/20210616/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''}--->
[2021-06-16 10:37:52,212] [views.py:34] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 10:37:52,212] [views.py:112] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/20210616/ 连接信息:<pymysql.connections.Connection object at 0x05D29F58>--->
[2021-06-16 10:37:52,213] [views.py:70] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 10:37:52,238] [views.py:77] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 10:37:52,260] [views.py:88] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 10:37:52,261] [views.py:93] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 10:37:52,261] [views.py:152] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216103752 limit 0,500;-->
[2021-06-16 10:37:52,283] [views.py:163] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/20210616//insert-roles_manage-20210616.sql-->
[2021-06-16 10:37:52,284] [views.py:179] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 10:37:52,284] [views.py:152] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216103752 limit 500,1000;-->
[2021-06-16 10:37:52,305] [views.py:181] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 10:37:52,306] [views.py:70] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 10:37:52,329] [views.py:77] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 10:37:52,351] [views.py:88] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 10:37:52,351] [views.py:96] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 10:37:52,351] [views.py:152] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 10:37:52') limit 0,500;-->
[2021-06-16 10:37:52,375] [views.py:163] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/20210616//insert-contrast_task-20210616.sql-->
[2021-06-16 10:37:52,376] [views.py:179] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 10:37:52,376] [views.py:152] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 10:37:52') limit 500,1000;-->
[2021-06-16 10:37:52,399] [views.py:181] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 10:37:52,400] [views.py:189] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/20210616//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/20210616//insert-contrast_task-20210616.sql']-->
[2021-06-16 10:37:52,401] [views.py:214] [views:Databases_Generate_File] [INFO]- <------数据库备份文件生成完成------>
[2021-06-16 10:49:10,899] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 10:49:54,732] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 10:49:54,732] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 4, 'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage1', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061610/'}--->
[2021-06-16 10:49:54,943] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 10:49:54,945] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 10:50:25,146] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 10:50:25,146] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616104954733843', 'task_type': 2, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 10:50:25,147] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 10:50:25,147] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616104954733843的数据任务执行开始---->
[2021-06-16 10:50:25,149] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 10:50:25,289] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616104954733843的数据 定时参数更新完成
[2021-06-16 10:50:25,290] [apscheduler_task.py:190] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616104954733843,task_type:2,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 10:50:25,476] [apscheduler_task.py:211] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 10:50:25,477] [apscheduler_task.py:249] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 10:50:35,482] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616104954733843', 'task_type': 2, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 10:50:35--->
[2021-06-16 10:50:35,501] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 10:50:35,630] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:26--->
[2021-06-16 10:50:35,632] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:2 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage1', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061610/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''}--->
[2021-06-16 10:50:35,632] [views.py:208] [views:Databases_Generate_File] [INFO]- <---生成数据库备份文件接口 接收参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage1', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061610/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''},状态表id26--->
[2021-06-16 10:50:35,632] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei', 'db_tablename': [{'tbname': 'roles_manage1', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061610/', 'db_ip_lg': '', 'db_username_lg': '', 'db_password_lg': '', 'db_port_lg': 0, 'db_name_lg': ''}--->
[2021-06-16 10:50:35,774] [views.py:34] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 10:50:35,774] [views.py:112] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage1', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061610/ 连接信息:<pymysql.connections.Connection object at 0x041A8478>--->
[2021-06-16 10:50:35,775] [views.py:70] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage1--->
[2021-06-16 10:50:35,808] [views.py:81] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage1 数据库中没有含有该表--->
[2021-06-16 10:50:35,808] [views.py:188] [views:Databases_File_Write] [INFO]- <---没有找到名为:roles_manage1的表-->
[2021-06-16 10:50:35,808] [views.py:70] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 10:50:35,834] [views.py:77] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 10:50:35,863] [views.py:88] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 10:50:35,863] [views.py:96] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 10:50:35,863] [views.py:152] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 10:50:35') limit 0,500;-->
[2021-06-16 10:50:35,888] [views.py:163] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061610//insert-contrast_task-20210616.sql-->
[2021-06-16 10:50:35,889] [views.py:179] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 10:50:35,889] [views.py:152] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 10:50:35') limit 500,1000;-->
[2021-06-16 10:50:35,910] [views.py:181] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 10:50:35,911] [views.py:189] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061610//insert-contrast_task-20210616.sql']-->
[2021-06-16 10:50:35,911] [views.py:214] [views:Databases_Generate_File] [INFO]- <------数据库备份文件生成完成------>
[2021-06-16 11:03:33,478] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:03:46,531] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 11:03:46,531] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 1, 'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:03:46,732] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 11:03:46,733] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 11:06:15,208] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:06:15,209] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616110346532741', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:06:15,213] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:06:15,213] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616110346532741的数据任务执行开始---->
[2021-06-16 11:06:15,216] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:06:15,614] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616110346532741的数据 定时参数更新完成
[2021-06-16 11:06:15,614] [apscheduler_task.py:190] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616110346532741,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 11:06:15,788] [apscheduler_task.py:211] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 11:06:15,788] [apscheduler_task.py:249] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 11:06:25,796] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616110346532741', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 11:06:25--->
[2021-06-16 11:06:25,815] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 11:06:25,949] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:27--->
[2021-06-16 11:06:25,952] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:06:25,952] [views.py:428] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:27--->
[2021-06-16 11:06:25,952] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:06:26,049] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616110346532741 异常信息:local variable 'conn' referenced before assignment 报错行数:72--->
[2021-06-16 11:13:20,369] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:13:37,615] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:13:37,615] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616110346532741', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:13:37,616] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:13:37,616] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616110346532741的数据任务执行开始---->
[2021-06-16 11:13:37,618] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:13:37,629] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616110346532741的数据 定时参数更新完成
[2021-06-16 11:13:37,630] [apscheduler_task.py:190] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616110346532741,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 11:13:37,826] [apscheduler_task.py:211] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 11:13:37,827] [apscheduler_task.py:249] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 11:13:47,836] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616110346532741', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 11:13:47--->
[2021-06-16 11:13:47,854] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 11:13:47,981] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:28--->
[2021-06-16 11:13:47,983] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:13:47,983] [views.py:428] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:28--->
[2021-06-16 11:13:47,983] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:13:47,992] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616110346532741 异常信息:local variable 'conn' referenced before assignment 报错行数:72--->
[2021-06-16 11:15:18,225] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:15:25,457] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:15:25,457] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616110346532741', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:15:25,458] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:15:25,458] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616110346532741的数据任务执行开始---->
[2021-06-16 11:15:25,461] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:16:13,958] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:16:18,115] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:16:18,115] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616110346532741', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:16:18,116] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:16:18,116] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616110346532741的数据任务执行开始---->
[2021-06-16 11:16:18,117] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:17:01,510] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:17:33,315] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:17:33,316] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616110346532741', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:17:33,318] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:17:33,319] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616110346532741的数据任务执行开始---->
[2021-06-16 11:17:33,321] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:20:13,016] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:20:57,319] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:20:57,320] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616110346532741', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:20:57,321] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:20:57,321] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616110346532741的数据任务执行开始---->
[2021-06-16 11:20:57,323] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:22:02,379] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:22:09,846] [databases_operation.py:19] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---调用添加数据库迁移信息接口--->
[2021-06-16 11:22:09,847] [databases_operation.py:22] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---接口接收参数:{'task_type': 1, 'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:22:09,921] [databases_operation.py:65] [databases_operation:Ins_Databases_Migration_Task] [INFO]- <---任务添加成功--->
[2021-06-16 11:22:09,923] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_databases_migration_task HTTP/1.1" 200 77
[2021-06-16 11:24:16,188] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:24:16,188] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:24:16,193] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:24:16,194] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 11:24:16,196] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:24:16,588] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 定时参数更新完成
[2021-06-16 11:24:16,588] [apscheduler_task.py:190] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 11:24:16,766] [apscheduler_task.py:211] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 11:24:16,767] [apscheduler_task.py:249] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 11:24:26,776] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 11:24:26--->
[2021-06-16 11:24:26,795] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 11:24:26,923] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:29--->
[2021-06-16 11:24:26,925] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:24:26,926] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:29--->
[2021-06-16 11:24:26,926] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:24:26,936] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:local variable 'conn' referenced before assignment 报错行数:72--->
[2021-06-16 11:24:36,779] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 11:24:36--->
[2021-06-16 11:24:36,781] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 11:24:36,913] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:30--->
[2021-06-16 11:24:36,915] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:24:36,915] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:30--->
[2021-06-16 11:24:36,915] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:24:36,916] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:local variable 'conn' referenced before assignment 报错行数:72--->
[2021-06-16 11:30:56,830] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:31:11,683] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:31:11,683] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:31:11,684] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:31:11,685] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 11:31:11,687] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:33:37,422] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:33:41,762] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:33:41,762] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:33:41,763] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:33:41,763] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 11:33:41,765] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:37:56,265] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 11:37:58,716] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 11:37:58,716] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 11:37:58,717] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 11:37:58,717] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 11:37:58,722] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 11:37:58,727] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 定时参数更新完成
[2021-06-16 11:37:58,728] [apscheduler_task.py:190] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 11:37:58,969] [apscheduler_task.py:211] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 11:37:58,969] [apscheduler_task.py:249] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 11:38:08,976] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 11:38:08--->
[2021-06-16 11:38:08,993] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 11:38:09,037] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:31--->
[2021-06-16 11:38:09,039] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:38:09,040] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:31--->
[2021-06-16 11:38:09,040] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 11:38:09,048] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:local variable 'conn' referenced before assignment 报错行数:72--->
[2021-06-16 12:40:53,444] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 12:40:56,418] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 12:40:56,418] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 12:40:56,419] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 12:40:56,419] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 12:40:56,421] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 12:40:56,429] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 12:40:56,429] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 12:40:56,677] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 12:40:56,677] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 12:41:06,690] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 12:41:06--->
[2021-06-16 12:41:06,709] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:2--->
[2021-06-16 12:41:06,829] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:32--->
[2021-06-16 12:41:06,831] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 12:41:06,832] [views.py:436] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:32--->
[2021-06-16 12:41:06,832] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1  ', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 12:41:06,841] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:local variable 'conn' referenced before assignment 报错行数:72--->
[2021-06-16 14:32:53,275] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 14:33:45,711] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 14:33:45,712] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 14:33:45,713] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 14:33:45,714] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 14:33:45,719] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 14:33:45,726] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 14:33:45,727] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 14:33:45,967] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 14:33:45,967] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 14:33:55,969] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 14:33:55--->
[2021-06-16 14:33:55,977] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:3--->
[2021-06-16 14:33:56,098] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:33--->
[2021-06-16 14:33:56,197] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 14:33:56,197] [views.py:430] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:33--->
[2021-06-16 14:33:56,198] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 14:33:56,224] [views.py:36] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 14:33:56,224] [views.py:114] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x0559FFE8>--->
[2021-06-16 14:33:56,225] [views.py:72] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 14:33:56,228] [views.py:79] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 14:33:56,367] [views.py:90] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 14:33:56,368] [views.py:95] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 14:33:56,368] [views.py:154] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216143356 limit 0,500;-->
[2021-06-16 14:33:56,370] [views.py:165] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 14:33:56,371] [views.py:181] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 14:33:56,372] [views.py:154] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216143356 limit 500,1000;-->
[2021-06-16 14:33:56,383] [views.py:183] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 14:33:56,384] [views.py:72] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 14:33:56,386] [views.py:79] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 14:33:56,388] [views.py:90] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 14:33:56,388] [views.py:98] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 14:33:56,388] [views.py:154] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 14:33:56') limit 0,500;-->
[2021-06-16 14:33:56,437] [views.py:165] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 14:33:56,450] [views.py:181] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 14:33:56,451] [views.py:154] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 14:33:56') limit 500,1000;-->
[2021-06-16 14:33:56,452] [views.py:183] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 14:33:56,453] [views.py:191] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 14:33:56,453] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 14:33:56,610] [views.py:36] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 14:33:56,941] [views.py:482] [views:Long_Range_File_Implement] [INFO]- <---数据迁移完成-->
[2021-06-16 14:45:01,940] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 14:45:09,944] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\data_migration\views.py changed, reloading.
[2021-06-16 14:45:12,413] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 14:49:22,387] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 14:49:22,387] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 14:49:22,387] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 14:49:22,388] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 14:49:22,390] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 14:49:22,398] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 14:49:22,399] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 14:49:22,602] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 14:49:22,602] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 14:49:32,604] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 14:49:32--->
[2021-06-16 14:49:32,622] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:4--->
[2021-06-16 14:49:32,740] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:34--->
[2021-06-16 14:49:32,742] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 14:49:32,742] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:34--->
[2021-06-16 14:49:32,743] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 14:49:32,747] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 14:49:32,748] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04FF1388>--->
[2021-06-16 14:49:32,748] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 14:49:32,751] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 14:49:32,753] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 14:49:32,753] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 14:49:32,754] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216144932 limit 0,500;-->
[2021-06-16 14:49:32,755] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 14:49:32,755] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 14:49:32,756] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216144932 limit 500,1000;-->
[2021-06-16 14:49:32,756] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 14:49:32,757] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 14:49:32,758] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 14:49:32,760] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 14:49:32,761] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 14:49:32,761] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 14:49:32') limit 0,500;-->
[2021-06-16 14:49:32,762] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 14:49:32,763] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 14:49:32,763] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 14:49:32') limit 500,1000;-->
[2021-06-16 14:49:32,764] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 14:49:32,764] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 14:49:32,764] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 14:49:32,922] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 14:49:32,922] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 14:49:32,994] [views.py:479] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 一次:2笔-->
[2021-06-16 14:49:33,097] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:01:29,798] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:01:33,866] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:01:33,867] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:01:33,868] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:01:33,868] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 15:01:33,872] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:01:33,878] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 15:01:33,878] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:01:34,114] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:01:34,114] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:01:44,129] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:01:44--->
[2021-06-16 15:01:44,148] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:5--->
[2021-06-16 15:01:44,270] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:35--->
[2021-06-16 15:01:44,273] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:01:44,273] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:35--->
[2021-06-16 15:01:44,274] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:01:44,279] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:01:44,279] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x05023028>--->
[2021-06-16 15:01:44,279] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:01:44,304] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:01:44,370] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:01:44,370] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:01:44,371] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150144 limit 0,500;-->
[2021-06-16 15:01:44,372] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:01:44,374] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:01:44,374] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150144 limit 500,1000;-->
[2021-06-16 15:01:44,374] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:01:44,376] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:01:44,379] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:01:44,381] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:01:44,381] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:01:44,382] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:01:44') limit 0,500;-->
[2021-06-16 15:01:44,383] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:01:44,384] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:01:44,384] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:01:44') limit 500,1000;-->
[2021-06-16 15:01:44,385] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:01:44,386] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:01:44,386] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:01:44,526] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:01:44,527] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:01:44,594] [views.py:480] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 一次:2笔-->
[2021-06-16 15:01:44,686] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:04:32,419] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:04:36,787] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:04:36,788] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:04:36,788] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:04:36,789] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 15:04:36,791] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:04:36,804] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 15:04:36,805] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:04:37,005] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:04:37,005] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:04:47,007] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:04:47--->
[2021-06-16 15:04:47,028] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:6--->
[2021-06-16 15:04:47,152] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:36--->
[2021-06-16 15:04:47,154] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:04:47,154] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:36--->
[2021-06-16 15:04:47,155] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:04:47,183] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:04:47,183] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D118>--->
[2021-06-16 15:04:47,183] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:04:47,202] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:04:47,204] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:04:47,204] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:04:47,204] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150447 limit 0,500;-->
[2021-06-16 15:04:47,205] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:04:47,206] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:04:47,206] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150447 limit 500,1000;-->
[2021-06-16 15:04:47,207] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:04:47,207] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:04:47,209] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:04:47,210] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:04:47,211] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:04:47,211] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:04:47') limit 0,500;-->
[2021-06-16 15:04:47,213] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:04:47,214] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:04:47,214] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:04:47') limit 500,1000;-->
[2021-06-16 15:04:47,215] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:04:47,215] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:04:47,216] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:04:47,371] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:04:47,371] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:04:47,396] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:04:57,014] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:04:57--->
[2021-06-16 15:04:57,016] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:7--->
[2021-06-16 15:04:57,054] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:37--->
[2021-06-16 15:04:57,056] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:04:57,056] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:37--->
[2021-06-16 15:04:57,057] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:04:57,080] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:04:57,080] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D250>--->
[2021-06-16 15:04:57,081] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:04:57,084] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:04:57,086] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:04:57,086] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:04:57,086] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150457 limit 0,500;-->
[2021-06-16 15:04:57,087] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:04:57,088] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:04:57,088] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150457 limit 500,1000;-->
[2021-06-16 15:04:57,089] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:04:57,089] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:04:57,091] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:04:57,092] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:04:57,092] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:04:57,093] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:04:57') limit 0,500;-->
[2021-06-16 15:04:57,094] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:04:57,095] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:04:57,096] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:04:57') limit 500,1000;-->
[2021-06-16 15:04:57,097] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:04:57,097] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:04:57,098] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:04:57,222] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:04:57,223] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:04:57,241] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:05:07,023] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:05:07--->
[2021-06-16 15:05:07,025] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:8--->
[2021-06-16 15:05:07,062] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:38--->
[2021-06-16 15:05:07,064] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:07,064] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:38--->
[2021-06-16 15:05:07,064] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:07,088] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:07,089] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D118>--->
[2021-06-16 15:05:07,089] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:05:07,091] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:05:07,093] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:05:07,093] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:05:07,093] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150507 limit 0,500;-->
[2021-06-16 15:05:07,094] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:05:07,095] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:07,095] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150507 limit 500,1000;-->
[2021-06-16 15:05:07,096] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:05:07,097] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:05:07,099] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:05:07,100] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:05:07,100] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:05:07,101] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:07') limit 0,500;-->
[2021-06-16 15:05:07,102] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:05:07,103] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:07,103] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:07') limit 500,1000;-->
[2021-06-16 15:05:07,104] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:05:07,105] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:05:07,105] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:05:07,246] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:07,247] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:05:07,271] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:05:17,007] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:05:17--->
[2021-06-16 15:05:17,010] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:9--->
[2021-06-16 15:05:17,146] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:39--->
[2021-06-16 15:05:17,148] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:17,148] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:39--->
[2021-06-16 15:05:17,149] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:17,153] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:17,154] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04C6BFA0>--->
[2021-06-16 15:05:17,154] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:05:17,156] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:05:17,157] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:05:17,158] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:05:17,158] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150517 limit 0,500;-->
[2021-06-16 15:05:17,159] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:05:17,160] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:17,160] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150517 limit 500,1000;-->
[2021-06-16 15:05:17,161] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:05:17,161] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:05:17,164] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:05:17,166] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:05:17,166] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:05:17,167] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:17') limit 0,500;-->
[2021-06-16 15:05:17,169] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:05:17,170] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:17,170] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:17') limit 500,1000;-->
[2021-06-16 15:05:17,171] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:05:17,171] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:05:17,172] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:05:17,295] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:17,295] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:05:17,313] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:05:27,006] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:05:27--->
[2021-06-16 15:05:27,008] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:10--->
[2021-06-16 15:05:27,047] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:40--->
[2021-06-16 15:05:27,049] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:27,050] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:40--->
[2021-06-16 15:05:27,050] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:27,055] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:27,055] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04C6BCE8>--->
[2021-06-16 15:05:27,055] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:05:27,058] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:05:27,060] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:05:27,060] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:05:27,061] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150527 limit 0,500;-->
[2021-06-16 15:05:27,062] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:05:27,062] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:27,063] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150527 limit 500,1000;-->
[2021-06-16 15:05:27,063] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:05:27,064] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:05:27,066] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:05:27,069] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:05:27,069] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:05:27,070] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:27') limit 0,500;-->
[2021-06-16 15:05:27,071] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:05:27,072] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:27,073] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:27') limit 500,1000;-->
[2021-06-16 15:05:27,073] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:05:27,074] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:05:27,074] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:05:27,275] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:27,276] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:05:27,326] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:05:37,021] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:05:37--->
[2021-06-16 15:05:37,023] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:11--->
[2021-06-16 15:05:37,159] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:41--->
[2021-06-16 15:05:37,161] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:37,161] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:41--->
[2021-06-16 15:05:37,161] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:37,179] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:37,179] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04CDECB8>--->
[2021-06-16 15:05:37,179] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:05:37,182] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:05:37,183] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:05:37,184] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:05:37,184] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150537 limit 0,500;-->
[2021-06-16 15:05:37,185] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:05:37,186] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:37,186] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150537 limit 500,1000;-->
[2021-06-16 15:05:37,186] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:05:37,187] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:05:37,188] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:05:37,190] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:05:37,190] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:05:37,190] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:37') limit 0,500;-->
[2021-06-16 15:05:37,192] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:05:37,192] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:37,193] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:37') limit 500,1000;-->
[2021-06-16 15:05:37,193] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:05:37,194] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:05:37,194] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:05:37,357] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:37,357] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:05:37,380] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:05:47,019] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:05:47--->
[2021-06-16 15:05:47,022] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:12--->
[2021-06-16 15:05:47,057] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:42--->
[2021-06-16 15:05:47,059] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:47,059] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:42--->
[2021-06-16 15:05:47,060] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:47,086] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:47,086] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04CDE928>--->
[2021-06-16 15:05:47,086] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:05:47,088] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:05:47,090] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:05:47,090] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:05:47,090] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150547 limit 0,500;-->
[2021-06-16 15:05:47,091] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:05:47,092] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:47,092] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150547 limit 500,1000;-->
[2021-06-16 15:05:47,093] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:05:47,093] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:05:47,095] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:05:47,097] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:05:47,097] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:05:47,097] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:47') limit 0,500;-->
[2021-06-16 15:05:47,098] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:05:47,099] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:47,100] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:47') limit 500,1000;-->
[2021-06-16 15:05:47,101] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:05:47,102] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:05:47,102] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:05:47,235] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:47,236] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:05:47,256] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:05:57,021] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:05:57--->
[2021-06-16 15:05:57,023] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:13--->
[2021-06-16 15:05:57,142] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:43--->
[2021-06-16 15:05:57,144] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:57,145] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:43--->
[2021-06-16 15:05:57,145] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:05:57,165] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:57,166] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0DB98>--->
[2021-06-16 15:05:57,166] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:05:57,168] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:05:57,169] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:05:57,170] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:05:57,170] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150557 limit 0,500;-->
[2021-06-16 15:05:57,171] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:05:57,172] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:57,172] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150557 limit 500,1000;-->
[2021-06-16 15:05:57,172] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:05:57,173] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:05:57,176] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:05:57,178] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:05:57,178] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:05:57,179] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:57') limit 0,500;-->
[2021-06-16 15:05:57,180] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:05:57,181] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:05:57,181] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:05:57') limit 500,1000;-->
[2021-06-16 15:05:57,182] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:05:57,182] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:05:57,182] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:05:57,323] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:05:57,323] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:05:57,347] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:06:07,018] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:06:07--->
[2021-06-16 15:06:07,021] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:14--->
[2021-06-16 15:06:07,150] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:44--->
[2021-06-16 15:06:07,152] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:07,152] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:44--->
[2021-06-16 15:06:07,153] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:07,157] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:07,158] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D2B0>--->
[2021-06-16 15:06:07,158] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:06:07,160] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:06:07,162] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:06:07,162] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:06:07,163] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150607 limit 0,500;-->
[2021-06-16 15:06:07,164] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:06:07,165] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:07,165] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150607 limit 500,1000;-->
[2021-06-16 15:06:07,166] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:06:07,166] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:06:07,169] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:06:07,171] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:06:07,172] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:06:07,172] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:07') limit 0,500;-->
[2021-06-16 15:06:07,173] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:06:07,174] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:07,175] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:07') limit 500,1000;-->
[2021-06-16 15:06:07,175] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:06:07,176] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:06:07,176] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:06:07,331] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:07,332] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:06:07,354] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:06:17,011] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:06:17--->
[2021-06-16 15:06:17,014] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:15--->
[2021-06-16 15:06:17,157] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:45--->
[2021-06-16 15:06:17,160] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:17,160] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:45--->
[2021-06-16 15:06:17,160] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:17,186] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:17,186] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x032484C0>--->
[2021-06-16 15:06:17,186] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:06:17,188] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:06:17,202] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:06:17,202] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:06:17,203] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150617 limit 0,500;-->
[2021-06-16 15:06:17,204] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:06:17,204] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:17,204] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150617 limit 500,1000;-->
[2021-06-16 15:06:17,205] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:06:17,206] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:06:17,208] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:06:17,210] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:06:17,210] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:06:17,210] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:17') limit 0,500;-->
[2021-06-16 15:06:17,211] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:06:17,212] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:17,212] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:17') limit 500,1000;-->
[2021-06-16 15:06:17,213] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:06:17,213] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:06:17,214] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:06:17,359] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:17,359] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:06:17,381] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:06:27,014] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:06:27--->
[2021-06-16 15:06:27,015] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:16--->
[2021-06-16 15:06:27,148] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:46--->
[2021-06-16 15:06:27,150] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:27,150] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:46--->
[2021-06-16 15:06:27,150] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:27,174] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:27,175] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D250>--->
[2021-06-16 15:06:27,175] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:06:27,177] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:06:27,179] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:06:27,179] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:06:27,179] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150627 limit 0,500;-->
[2021-06-16 15:06:27,180] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:06:27,181] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:27,181] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150627 limit 500,1000;-->
[2021-06-16 15:06:27,182] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:06:27,183] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:06:27,185] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:06:27,186] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:06:27,186] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:06:27,186] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:27') limit 0,500;-->
[2021-06-16 15:06:27,188] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:06:27,189] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:27,190] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:27') limit 500,1000;-->
[2021-06-16 15:06:27,190] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:06:27,191] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:06:27,191] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:06:27,339] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:27,340] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:06:27,366] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:06:37,019] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:06:37--->
[2021-06-16 15:06:37,021] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:17--->
[2021-06-16 15:06:37,169] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:47--->
[2021-06-16 15:06:37,171] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:37,171] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:47--->
[2021-06-16 15:06:37,171] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:37,193] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:37,193] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D1F0>--->
[2021-06-16 15:06:37,193] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:06:37,195] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:06:37,196] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:06:37,197] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:06:37,197] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150637 limit 0,500;-->
[2021-06-16 15:06:37,198] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:06:37,199] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:37,199] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150637 limit 500,1000;-->
[2021-06-16 15:06:37,199] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:06:37,200] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:06:37,202] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:06:37,203] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:06:37,203] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:06:37,204] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:37') limit 0,500;-->
[2021-06-16 15:06:37,205] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:06:37,206] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:37,206] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:37') limit 500,1000;-->
[2021-06-16 15:06:37,207] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:06:37,208] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:06:37,208] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:06:37,352] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:37,352] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:06:37,376] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:06:47,012] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:06:47--->
[2021-06-16 15:06:47,015] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:18--->
[2021-06-16 15:06:47,138] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:48--->
[2021-06-16 15:06:47,142] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:47,142] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:48--->
[2021-06-16 15:06:47,142] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:06:47,170] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:47,171] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x04D0D310>--->
[2021-06-16 15:06:47,171] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:06:47,173] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:06:47,175] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:06:47,175] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:06:47,175] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150647 limit 0,500;-->
[2021-06-16 15:06:47,176] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:06:47,177] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:47,177] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150647 limit 500,1000;-->
[2021-06-16 15:06:47,178] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:06:47,178] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:06:47,180] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:06:47,182] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:06:47,182] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:06:47,182] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:47') limit 0,500;-->
[2021-06-16 15:06:47,183] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:06:47,184] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:06:47,184] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:06:47') limit 500,1000;-->
[2021-06-16 15:06:47,185] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:06:47,185] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:06:47,186] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:06:47,331] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:06:47,331] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:06:47,353] [apscheduler_task.py:105] [apscheduler_task:My_APScheduler_Task] [INFO]- <----处理迁移任务异常 task_id:DBMG20210616112209847335 异常信息:Already closed 报错行数:72--->
[2021-06-16 15:07:32,246] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:08:32,438] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:08:32,441] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:08:32,442] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:08:32,444] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 15:08:32,445] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:08:32,451] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 15:08:32,451] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:08:32,662] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:08:32,663] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:08:42,667] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:08:42--->
[2021-06-16 15:08:42,680] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:19--->
[2021-06-16 15:08:42,721] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:49--->
[2021-06-16 15:08:42,725] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:08:42,725] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:49--->
[2021-06-16 15:08:42,725] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:08:42,747] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:08:42,748] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x05BBD448>--->
[2021-06-16 15:08:42,748] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:08:42,752] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:08:42,754] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:08:42,754] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:08:42,754] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150842 limit 0,500;-->
[2021-06-16 15:08:42,756] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:08:42,757] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:08:42,757] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216150842 limit 500,1000;-->
[2021-06-16 15:08:42,758] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:08:42,758] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:08:42,760] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:08:42,763] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:08:42,763] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:08:42,763] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:08:42') limit 0,500;-->
[2021-06-16 15:08:42,765] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:08:42,766] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:08:42,766] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:08:42') limit 500,1000;-->
[2021-06-16 15:08:42,767] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:08:42,768] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:08:42,768] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:08:42,903] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:08:42,904] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:08:42,976] [views.py:480] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 一次:2笔-->
[2021-06-16 15:08:43,051] [views.py:485] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:2次 当前:4笔-->
[2021-06-16 15:08:43,088] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:08:43,161] [views.py:480] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 一次:2笔-->
[2021-06-16 15:08:43,303] [views.py:480] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:2次 一次:4笔-->
[2021-06-16 15:08:43,355] [views.py:485] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:3次 当前:5笔-->
[2021-06-16 15:08:43,391] [views.py:489] [views:Long_Range_File_Implement] [INFO]- <---数据迁移完成-->
[2021-06-16 15:15:21,049] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:15:47,510] [autoreload.py:222] [autoreload:trigger_reload] [INFO]- E:\PyCharm\automatization\automatization\data_migration\views.py changed, reloading.
[2021-06-16 15:15:50,088] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:15:54,794] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:15:54,795] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:15:54,795] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:15:54,795] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 15:15:54,798] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:15:54,804] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 15:15:54,804] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:15:55,045] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:15:55,045] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:16:05,058] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:16:05--->
[2021-06-16 15:16:05,079] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:20--->
[2021-06-16 15:16:05,123] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:50--->
[2021-06-16 15:16:05,126] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:16:05,126] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:50--->
[2021-06-16 15:16:05,126] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:16:05,132] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:16:05,132] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x054E1058>--->
[2021-06-16 15:16:05,132] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:16:05,135] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:16:05,137] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:16:05,138] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:16:05,138] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216151605 limit 0,500;-->
[2021-06-16 15:16:05,139] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:16:05,140] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:16:05,140] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216151605 limit 500,1000;-->
[2021-06-16 15:16:05,141] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:16:05,142] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:16:05,144] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:16:05,146] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:16:05,146] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:16:05,146] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:16:05') limit 0,500;-->
[2021-06-16 15:16:05,148] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:16:05,148] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:16:05,149] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:16:05') limit 500,1000;-->
[2021-06-16 15:16:05,150] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:16:05,150] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:16:05,151] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:16:05,296] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:16:05,296] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:16:05,411] [views.py:483] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 共提交:3笔-->
[2021-06-16 15:16:05,455] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:16:05,605] [views.py:483] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 共提交:4笔-->
[2021-06-16 15:16:05,655] [views.py:487] [views:Long_Range_File_Implement] [INFO]- <---数据迁移完成-->
[2021-06-16 15:18:56,693] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:19:02,177] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:19:02,179] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:19:02,181] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:19:02,181] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 15:19:02,183] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:19:02,195] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 15:19:02,195] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:19:02,403] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:19:02,403] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:19:12,407] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:19:12--->
[2021-06-16 15:19:12,429] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:21--->
[2021-06-16 15:19:12,545] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:51--->
[2021-06-16 15:19:12,548] [apscheduler_task.py:69] [apscheduler_task:My_APScheduler_Task] [INFO]- <---传入数据迁移方法 任务类型task_type:1 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:19:12,548] [views.py:429] [views:Long_Range_File_Implement] [INFO]- <---数据库写入接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'} 状态表id:51--->
[2021-06-16 15:19:12,548] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '127.0.0.1', 'db_username': 'root', 'db_password': '123456', 'db_port': 3306, 'db_name': 'study', 'db_tablename': [{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}], 'filepath': 'E:/PyCharm/automatization/automatization/sql_file/2021061611/', 'db_ip_lg': '81.70.9.203', 'db_username_lg': 'root', 'db_password_lg': 'admin@12345', 'db_port_lg': 3306, 'db_name_lg': 'zaibei'}--->
[2021-06-16 15:19:12,553] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:19:12,553] [views.py:113] [views:Databases_File_Write] [INFO]- <---数据库文件写入接口 接收参数:表名:[{'tbname': 'roles_manage', 'tbdate': 'creattime', 'start_interval': 0, 'end_interval': 6}, {'tbname': 'contrast_task', 'tbdate': 'create_time', 'start_interval': 0, 'end_interval': 6}] 文件地址:E:/PyCharm/automatization/automatization/sql_file/2021061611/ 连接信息:<pymysql.connections.Connection object at 0x056D4430>--->
[2021-06-16 15:19:12,553] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:roles_manage--->
[2021-06-16 15:19:12,555] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:roles_manage 数据库中含有该表--->
[2021-06-16 15:19:12,557] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:creattime 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('rolescoding', 'varchar(100)', 'YES', '', None, ''), ('rolesname', 'varchar(100)', 'YES', '', None, ''), ('creattime', 'varchar(100)', 'YES', '', None, ''))
[2021-06-16 15:19:12,557] [views.py:94] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:str
[2021-06-16 15:19:12,557] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216151912 limit 0,500;-->
[2021-06-16 15:19:12,558] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql-->
[2021-06-16 15:19:12,559] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:19:12,559] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,rolescoding,rolesname,creattime from roles_manage where creattime>=20201216151912 limit 500,1000;-->
[2021-06-16 15:19:12,560] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:roles_manage 写入完成或没有符合的数据--->
[2021-06-16 15:19:12,560] [views.py:71] [views:table_exists] [INFO]- <---判断表是否在库中 接口 要验证的表名:contrast_task--->
[2021-06-16 15:19:12,562] [views.py:78] [views:table_exists] [INFO]- <--- 要验证的表名:contrast_task 数据库中含有该表--->
[2021-06-16 15:19:12,563] [views.py:89] [views:Date_Format] [INFO]- <---判断日期类型接口--->:验证类型:create_time 表结构:(('id', 'int', 'NO', 'PRI', None, 'auto_increment'), ('create_by', 'varchar(100)', 'YES', '', None, ''), ('create_time', 'datetime(6)', 'YES', '', None, ''), ('compare_type', 'int', 'YES', '', None, ''), ('status', 'int', 'YES', '', None, ''), ('tartget_master', 'varchar(255)', 'YES', '', None, ''), ('tartget_slave', 'varchar(255)', 'YES', '', None, ''), ('result', 'varchar(1)', 'YES', '', None, ''))
[2021-06-16 15:19:12,564] [views.py:97] [views:Date_Format] [INFO]- <---判断日期类型--->:验证类型:datetime
[2021-06-16 15:19:12,564] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:19:12') limit 0,500;-->
[2021-06-16 15:19:12,566] [views.py:164] [views:Databases_File_Write] [INFO]- <---数据库文件生成地址:E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql-->
[2021-06-16 15:19:12,567] [views.py:180] [views:Databases_File_Write] [INFO]- <---第:1笔 备份数据库写入完成--->
[2021-06-16 15:19:12,567] [views.py:153] [views:Databases_File_Write] [INFO]- <---执行的sql语句:select id,create_by,create_time,compare_type,status,tartget_master,tartget_slave,result from contrast_task where unix_timestamp(create_time)>=unix_timestamp('2020-12-16 15:19:12') limit 500,1000;-->
[2021-06-16 15:19:12,568] [views.py:182] [views:Databases_File_Write] [INFO]- <---表:contrast_task 写入完成或没有符合的数据--->
[2021-06-16 15:19:12,568] [views.py:190] [views:Databases_File_Write] [INFO]- <---生成文件的列表:['E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-roles_manage-20210616.sql', 'E:/PyCharm/automatization/automatization/sql_file/2021061611//insert-contrast_task-20210616.sql']-->
[2021-06-16 15:19:12,569] [views.py:25] [views:Databases_Conn] [INFO]- <---数据库连接信息接口 参数:{'db_ip': '81.70.9.203', 'db_username': 'root', 'db_password': 'admin@12345', 'db_port': 3306, 'db_name': 'zaibei'}--->
[2021-06-16 15:19:12,700] [views.py:35] [views:Databases_Conn] [INFO]- <---数据库连接完成--->
[2021-06-16 15:19:12,701] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:19:12,808] [views.py:483] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 共提交:3笔-->
[2021-06-16 15:19:12,852] [views.py:461] [views:Long_Range_File_Implement] [INFO]- <---开始读取数据库备份文件-->
[2021-06-16 15:19:13,004] [views.py:483] [views:Long_Range_File_Implement] [INFO]- <---提交插入事务第:1次 共提交:4笔-->
[2021-06-16 15:19:13,048] [views.py:487] [views:Long_Range_File_Implement] [INFO]- <---数据迁移完成-->
[2021-06-16 15:26:38,342] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:26:45,405] [databases_operation.py:272] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口--->
[2021-06-16 15:26:45,406] [databases_operation.py:274] [databases_operation:Ins_File_Migration_Task] [INFO]- <---获取的参数:{'task_type': 4, 'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606/ceshi', 'backups_path': '/home/liusy/ceshi', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345'}--->
[2021-06-16 15:26:45,509] [databases_operation.py:315] [databases_operation:Ins_File_Migration_Task] [INFO]- <---任务添加完成---->
[2021-06-16 15:26:45,510] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_file_migration_task HTTP/1.1" 200 77
[2021-06-16 15:30:28,827] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:30:28,827] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'FLMG20210616152645406424', 'task_type': 4, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:30:28,849] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:30:28,849] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:FLMG20210616152645406424的数据任务执行开始---->
[2021-06-16 15:30:28,851] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:30:29,239] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:FLMG20210616152645406424的数据 定时参数更新完成
[2021-06-16 15:30:29,240] [apscheduler_task.py:193] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:FLMG20210616152645406424,task_type:4,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:30:29,412] [apscheduler_task.py:214] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:30:29,413] [apscheduler_task.py:252] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:30:39,415] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'FLMG20210616152645406424', 'task_type': 4, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:30:39--->
[2021-06-16 15:30:39,428] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 15:30:39,562] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:52--->
[2021-06-16 15:30:39,564] [apscheduler_task.py:94] [apscheduler_task:My_APScheduler_Task] [INFO]- <----传入文件迁移方法 任务类型task_type:4 参数:{'source_ip': '81.70.9.203', 'source_user': 'liusy', 'source_pwd': 'Liu@12345', 'source_path': '/home/liusy/ceshi_1', 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606/ceshi', 'backups_path': '/home/liusy/ceshi', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '81.70.9.203', 'long_range_user': 'liusy', 'long_range_pwd': 'Liu@12345'}--->
[2021-06-16 15:30:39,565] [views.py:46] [views:Long_Rnge_SSH_Clint] [INFO]- <---向远端上传文件接口 获取的参数:ip:81.70.9.203,user:liusy,pwd:Liu@12345--->
[2021-06-16 15:30:40,455] [views.py:58] [views:Long_Rnge_SSH_Clint] [INFO]- <---获取远端连接信息完成--->
[2021-06-16 15:30:40,456] [views.py:300] [views:Long_Range_Check_File] [INFO]- <---获取远端符合条件的文件列表接口 连接信息:<paramiko.client.SSHClient object at 0x03358490>,源地址:/home/liusy/ceshi_1,时间间隔:1,时间类型:2--->
[2021-06-16 15:30:40,504] [views.py:309] [views:Long_Range_Check_File] [INFO]- <---获取远端文件列表:['total 8\n', '-rw-rw-r-- 1 liusy liusy 332 Jun  7 16:39 insert-roles_manage-20210607.sql\n', '-rw-rw-r-- 1 liusy liusy 736 Jun  7 17:13 insert-contrast_task-20210607.sql\n']--->
[2021-06-16 15:30:40,505] [views.py:315] [views:Long_Range_Check_File] [INFO]- <---过滤文件夹后的列表:['insert-roles_manage-20210607.sql', 'insert-contrast_task-20210607.sql']--->
[2021-06-16 15:30:40,660] [views.py:321] [views:Long_Range_Check_File] [INFO]- <--- 文件名:insert-roles_manage-20210607.sql 获取文件信息:['  File: ‘/home/liusy/ceshi_1/insert-roles_manage-20210607.sql’\n', '  Size: 332       \tBlocks: 8          IO Block: 4096   regular file\n', 'Device: fd01h/64769d\tInode: 2515522     Links: 1\n', 'Access: (0664/-rw-rw-r--)  Uid: ( 1006/   liusy)   Gid: ( 1006/   liusy)\n', 'Access: 2021-06-11 17:25:01.660449943 +0800\n', 'Modify: 2021-06-07 16:39:03.618744478 +0800\n', 'Change: 2021-06-07 16:39:03.641744376 +0800\n', ' Birth: -\n']--->
[2021-06-16 15:30:40,746] [views.py:321] [views:Long_Range_Check_File] [INFO]- <--- 文件名:insert-contrast_task-20210607.sql 获取文件信息:['  File: ‘/home/liusy/ceshi_1/insert-contrast_task-20210607.sql’\n', '  Size: 736       \tBlocks: 8          IO Block: 4096   regular file\n', 'Device: fd01h/64769d\tInode: 2515519     Links: 1\n', 'Access: (0664/-rw-rw-r--)  Uid: ( 1006/   liusy)   Gid: ( 1006/   liusy)\n', 'Access: 2021-06-11 17:25:01.806449247 +0800\n', 'Modify: 2021-06-07 17:13:36.203596274 +0800\n', 'Change: 2021-06-07 17:13:36.208596253 +0800\n', ' Birth: -\n']--->
[2021-06-16 15:30:40,746] [views.py:324] [views:Long_Range_Check_File] [INFO]- <---获取最后一次文件状态修改时间:{'insert-roles_manage-20210607.sql': '2021-06-0716:39:03.641744376', 'insert-contrast_task-20210607.sql': '2021-06-0717:13:36.208596253'}--->
[2021-06-16 15:30:40,747] [views.py:335] [views:Long_Range_Check_File] [INFO]- <---远端符合文件的列表:['insert-roles_manage-20210607.sql', 'insert-contrast_task-20210607.sql']--->
[2021-06-16 15:30:41,069] [views.py:403] [views:Long_Range_Move_File] [INFO]- <------文件下载完成------>
[2021-06-16 15:30:41,070] [views.py:353] [views:Long_Range_Put_File] [INFO]- 文件上传接口 参数:目标ip:81.70.9.203,目标用户:liusy,密码:Liu@12345,地址:/home/liusy/ceshi,本地地址:E:/PyCharm/automatization/automatization/sql_file/20210606/ceshi,文件列表:['insert-roles_manage-20210607.sql', 'insert-contrast_task-20210607.sql']
[2021-06-16 15:30:41,070] [views.py:46] [views:Long_Rnge_SSH_Clint] [INFO]- <---向远端上传文件接口 获取的参数:ip:81.70.9.203,user:liusy,pwd:Liu@12345--->
[2021-06-16 15:30:41,820] [views.py:58] [views:Long_Rnge_SSH_Clint] [INFO]- <---获取远端连接信息完成--->
[2021-06-16 15:30:42,211] [views.py:369] [views:Long_Range_Put_File] [INFO]- <---向远端上传文件完成-->
[2021-06-16 15:30:42,212] [views.py:416] [views:Long_Range_Move_File] [INFO]- <------文件迁移完成------>
[2021-06-16 15:40:35,003] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:40:39,738] [databases_operation.py:272] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口--->
[2021-06-16 15:40:39,738] [databases_operation.py:274] [databases_operation:Ins_File_Migration_Task] [INFO]- <---获取的参数:{'task_type': 3, 'local_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2}--->
[2021-06-16 15:40:39,841] [databases_operation.py:315] [databases_operation:Ins_File_Migration_Task] [INFO]- <---任务添加完成---->
[2021-06-16 15:40:39,843] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_file_migration_task HTTP/1.1" 200 77
[2021-06-16 15:43:47,791] [databases_operation.py:272] [databases_operation:Ins_File_Migration_Task] [INFO]- <---调用添加文件迁移信息接口--->
[2021-06-16 15:43:47,791] [databases_operation.py:274] [databases_operation:Ins_File_Migration_Task] [INFO]- <---获取的参数:{'task_type': 3, 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2}--->
[2021-06-16 15:43:48,251] [databases_operation.py:315] [databases_operation:Ins_File_Migration_Task] [INFO]- <---任务添加完成---->
[2021-06-16 15:43:48,252] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /ins_file_migration_task HTTP/1.1" 200 77
[2021-06-16 15:44:42,375] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:44:42,376] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'FLMG20210616154347791667', 'task_type': 3, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:44:42,376] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:44:42,376] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:FLMG20210616154347791667的数据任务执行开始---->
[2021-06-16 15:44:42,379] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:44:42,772] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:FLMG20210616154347791667的数据 定时参数更新完成
[2021-06-16 15:44:42,772] [apscheduler_task.py:195] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:FLMG20210616154347791667,task_type:3,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:44:42,944] [apscheduler_task.py:216] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:44:42,944] [apscheduler_task.py:254] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:44:52,960] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'FLMG20210616154347791667', 'task_type': 3, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:44:52--->
[2021-06-16 15:44:52,999] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 15:44:53,127] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:54--->
[2021-06-16 15:44:53,129] [apscheduler_task.py:94] [apscheduler_task:My_APScheduler_Task] [INFO]- <----传入文件迁移方法 任务类型task_type:3 参数:{'source_ip': '', 'source_user': '', 'source_pwd': '', 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'local_path': '', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '', 'long_range_user': '', 'long_range_pwd': ''}--->
[2021-06-16 15:44:53,130] [views.py:266] [views:Backups_File] [INFO]- <---文件移动接口 获取的参数:{'source_ip': '', 'source_user': '', 'source_pwd': '', 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'local_path': '', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '', 'long_range_user': '', 'long_range_pwd': ''},状态表id54--->
[2021-06-16 15:44:53,130] [views.py:225] [views:Check_File] [INFO]- <---获取符合条件的文件列表接口 参数:源地址:E:/PyCharm/automatization/automatization/sql_file/20210606,时间间隔:1,时间类型:2,状态表id:54--->
[2021-06-16 15:44:53,130] [views.py:229] [views:Check_File] [INFO]- <---路径下的文件列表:['ceshi', 'insert-contrast_task-20210611.sql', 'insert-roles_manage-20210611.sql']--->
[2021-06-16 15:44:53,131] [views.py:235] [views:Check_File] [INFO]- <---过滤文件夹后的文件列表:['E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql']--->
[2021-06-16 15:44:53,132] [views.py:240] [views:Check_File] [INFO]- <---获取创建时间的集合:{'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql': '2021-6-11 16:56:31', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql': '2021-6-11 16:56:30'}--->
[2021-06-16 15:44:53,133] [views.py:251] [views:Check_File] [INFO]- <---获取符合条件列表:[]--->
[2021-06-16 15:52:52,636] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 15:53:17,681] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 15:53:17,682] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'FLMG20210616154347791667', 'task_type': 3, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 15:53:17,682] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 15:53:17,683] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:FLMG20210616154347791667的数据任务执行开始---->
[2021-06-16 15:53:17,686] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 15:53:17,696] [apscheduler_task.py:161] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:FLMG20210616154347791667的数据 定时参数更新完成
[2021-06-16 15:53:17,696] [apscheduler_task.py:195] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:FLMG20210616154347791667,task_type:3,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 15:53:17,927] [apscheduler_task.py:216] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 15:53:17,927] [apscheduler_task.py:254] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 15:53:27,942] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'FLMG20210616154347791667', 'task_type': 3, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 15:53:27--->
[2021-06-16 15:53:27,963] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:1--->
[2021-06-16 15:53:28,095] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:55--->
[2021-06-16 15:53:28,134] [apscheduler_task.py:94] [apscheduler_task:My_APScheduler_Task] [INFO]- <----传入文件迁移方法 任务类型task_type:3 参数:{'source_ip': '', 'source_user': '', 'source_pwd': '', 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'local_path': '', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '', 'long_range_user': '', 'long_range_pwd': ''}--->
[2021-06-16 15:53:28,134] [views.py:266] [views:Backups_File] [INFO]- <---文件移动接口 获取的参数:{'source_ip': '', 'source_user': '', 'source_pwd': '', 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'local_path': '', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '', 'long_range_user': '', 'long_range_pwd': ''},状态表id55--->
[2021-06-16 15:53:28,134] [views.py:225] [views:Check_File] [INFO]- <---获取符合条件的文件列表接口 参数:源地址:E:/PyCharm/automatization/automatization/sql_file/20210606,时间间隔:1,时间类型:2,状态表id:55--->
[2021-06-16 15:53:28,134] [views.py:229] [views:Check_File] [INFO]- <---路径下的文件列表:['ceshi', 'insert-contrast_task-20210611.sql', 'insert-roles_manage-20210611.sql']--->
[2021-06-16 15:53:28,135] [views.py:235] [views:Check_File] [INFO]- <---过滤文件夹后的文件列表:['E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql']--->
[2021-06-16 15:53:28,136] [views.py:240] [views:Check_File] [INFO]- <---获取创建时间的集合:{'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql': '2021-6-11 16:56:31', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql': '2021-6-11 16:56:30'}--->
[2021-06-16 15:53:28,137] [views.py:251] [views:Check_File] [INFO]- <---获取符合条件列表:[]--->
[2021-06-16 16:27:53,039] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 16:27:57,472] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 16:27:57,472] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'FLMG20210616154347791667', 'task_type': 3, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 16:27:57,473] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 16:27:57,473] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:FLMG20210616154347791667的数据任务执行开始---->
[2021-06-16 16:27:57,477] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 16:27:57,486] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:FLMG20210616154347791667的数据 再次启动完成
[2021-06-16 16:27:57,486] [apscheduler_task.py:195] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:FLMG20210616154347791667,task_type:3,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 16:27:57,685] [apscheduler_task.py:216] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 16:27:57,686] [apscheduler_task.py:254] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 16:28:07,691] [apscheduler_task.py:27] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务启动接收的参数为:{'task_id': 'FLMG20210616154347791667', 'task_type': 3, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'},日期:2021-06-16 16:28:07--->
[2021-06-16 16:28:07,716] [apscheduler_task.py:35] [apscheduler_task:My_APScheduler_Task] [INFO]- <----定时任务历史条数:2--->
[2021-06-16 16:28:07,846] [apscheduler_task.py:52] [apscheduler_task:My_APScheduler_Task] [INFO]- <----任务状态表主键id:56--->
[2021-06-16 16:28:07,850] [apscheduler_task.py:94] [apscheduler_task:My_APScheduler_Task] [INFO]- <----传入文件迁移方法 任务类型task_type:3 参数:{'source_ip': '', 'source_user': '', 'source_pwd': '', 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'local_path': '', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '', 'long_range_user': '', 'long_range_pwd': ''}--->
[2021-06-16 16:28:07,850] [views.py:266] [views:Backups_File] [INFO]- <---文件移动接口 获取的参数:{'source_ip': '', 'source_user': '', 'source_pwd': '', 'source_path': 'E:/PyCharm/automatization/automatization/sql_file/20210606', 'local_path': '', 'backups_path': 'E:/PyCharm/automatization/automatization/sql_file/20210611', 'interval_date': 1, 'date_type': 2, 'long_range_ip': '', 'long_range_user': '', 'long_range_pwd': ''},状态表id56--->
[2021-06-16 16:28:07,850] [views.py:225] [views:Check_File] [INFO]- <---获取符合条件的文件列表接口 参数:源地址:E:/PyCharm/automatization/automatization/sql_file/20210606,时间间隔:1,时间类型:2,状态表id:56--->
[2021-06-16 16:28:07,850] [views.py:229] [views:Check_File] [INFO]- <---路径下的文件列表:['ceshi', 'insert-contrast_task-20210611.sql', 'insert-roles_manage-20210611.sql']--->
[2021-06-16 16:28:07,851] [views.py:235] [views:Check_File] [INFO]- <---过滤文件夹后的文件列表:['E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql']--->
[2021-06-16 16:28:07,851] [views.py:239] [views:Check_File] [INFO]- <---获取创建时间的集合:{'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql': '2021-06-11 16:56:31', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql': '2021-06-11 16:56:30'}--->
[2021-06-16 16:28:07,852] [views.py:251] [views:Check_File] [INFO]- <---获取符合条件列表:['E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-contrast_task-20210611.sql', 'E:/PyCharm/automatization/automatization/sql_file/20210606\\insert-roles_manage-20210611.sql']--->
[2021-06-16 16:28:07,852] [views.py:281] [views:Backups_File] [INFO]- <---拼接为源路径集合:{}--->
[2021-06-16 16:28:07,855] [views.py:289] [views:Backups_File] [INFO]- <---文件移动完成--->
[2021-06-16 17:13:01,891] [autoreload.py:598] [autoreload:run_with_reloader] [INFO]- Watching for file changes with StatReloader
[2021-06-16 17:13:05,676] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 17:13:05,677] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 17:13:05,677] [apscheduler_task.py:147] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- <---修改任务信息接口（获取定时参数 执行定时任务）---->
[2021-06-16 17:13:05,677] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 17:13:05,680] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 17:13:05,693] [apscheduler_task.py:165] [apscheduler_task:Upd_Implement_Status_Task_Async] [INFO]- 任务id:DBMG20210616112209847335的数据 再次启动完成
[2021-06-16 17:13:05,694] [apscheduler_task.py:195] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation1--->
[2021-06-16 17:13:05,920] [apscheduler_task.py:216] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 17:13:05,921] [apscheduler_task.py:254] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 17:13:15,925] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:13:15 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:13:25,931] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:13:25 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:13:35,946] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:13:35 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:13:45,936] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:13:45 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:13:55,931] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:13:55 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:14:05,936] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:14:05 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:14:15,935] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:14:15 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:14:25,930] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:14:25 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:14:28,356] [apscheduler_task.py:118] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---调用接口更新任务表 (触发定时任务)---->
[2021-06-16 17:14:28,356] [apscheduler_task.py:120] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---接收的参数:{'id': 'DBMG20210616112209847335', 'task_type': 1, 'task_operation': 2, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}---->
[2021-06-16 17:14:28,357] [apscheduler_task.py:195] [apscheduler_task:run] [INFO]- <----手动定时任务启动参数(第一次启动)：task_id:DBMG20210616112209847335,task_type:1,task_imp_operation:1,task_imp_interval:1,task_imp_time10,task_operation2--->
[2021-06-16 17:14:28,357] [apscheduler_task.py:216] [apscheduler_task:run] [INFO]- <---时间间隔模式 类型:1 间隔:10--->
[2021-06-16 17:14:28,357] [apscheduler_task.py:254] [apscheduler_task:run] [INFO]- <----启动任务工作--->
[2021-06-16 17:14:28,357] [apscheduler_task.py:138] [apscheduler_task:Upd_Implement_Status_Task] [INFO]- <---任务id:DBMG20210616112209847335的数据任务执行开始---->
[2021-06-16 17:14:28,358] [basehttp.py:157] [basehttp:log_message] [INFO]- "POST /upd_implement_status_task HTTP/1.1" 200 134
[2021-06-16 17:14:35,939] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:14:35 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:14:45,927] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:14:45 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:14:55,934] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:14:55 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
[2021-06-16 17:15:05,933] [apscheduler_task.py:190] [apscheduler_task:test] [INFO]- -------------Wed Jun 16 17:15:05 2021,{'task_id': 'DBMG20210616112209847335', 'task_type': 1, 'task_imp_operation': 1, 'task_imp_interval': 1, 'task_imp_time': '10'}
